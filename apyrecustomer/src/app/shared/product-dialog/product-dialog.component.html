<div class="container">
    <div class="header">
        <div class="header-text">Add Products</div>
        <i class="pi pi-times-circle cursor-pointer text-2xl" (click)="close()"></i>
    </div>
    <form>
        <div class="filter">
            <span class="p-input-icon-left">
                <i class="pi pi-search text-600"></i>
                <input type="text" pInputText placeholder="Search" [(ngModel)]="filter" name="filter"
                    (input)="searchByInput($event)" />
            </span>
            <div class="category">
                <p-dropdown [options]="categories" [(ngModel)]="selectedCategory" name="name" placeholder="Select"
                    (onChange)="searchByDropdown($event)">
                </p-dropdown>
            </div>
        </div>
    </form>
    <div class="products" *ngIf="(products$ | async) as products">
        <ng-container *ngFor="let product of products">
            <div class="product-container">
                <div class="product-left">
                    <img src="../../../assets/casket.png" alt="casket" class="product-img">
                </div>
                <div class="product-right">
                    <div class="flex justify-content-between align-items-end">
                        <div class="title text-900 font-bold">{{product.title}}</div>
                        <div class="text-primary font-bold">${{product.price}}</div>
                    </div>
                    <div class="text-sm text-600">{{product.sku}}</div>
                    <div>
                        <span class="bg-900 surface-card w-full border-round text-white pr-2 pl-2">
                            {{product.category}}
                        </span>
                    </div>
                    <div class="text-600">{{product.desc}}</div>
                    <div class="flex justify-content-between align-items-end">
                        <div class="flex flex-column gap-2">
                            <div>
                                <span class="text-900 font-bold" *ngIf="product.material">Material: </span>{{
                                product.material
                                }}
                            </div>

                            <div><span class="text-900 font-bold" *ngIf="product.color">Color: </span>{{product.color}}
                            </div>
                        </div>

                        <div class="w-max">
                            <button class="add-button" (click)="close(product)">
                                <i class="pi pi-plus-circle"></i>
                                <div>Add Product</div>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </ng-container>
    </div>
</div>